{"version":3,"file":"coreui-chartjs.js","sources":["../../js/src/custom-tooltips.js","../../js/index.umd.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * Custom Tooltips for Chart.js (v2.0.0-alpha.0): custom-tooltips.js\n * Licensed under MIT (https://coreui.io/plugins/chart.js)\n * --------------------------------------------------------------------------\n */\n\nfunction CustomTooltips(tooltipModel) {\n  // Add unique id if not exist\n  const _setCanvasId = () => {\n    const _idMaker = () => {\n      const _hex = 16\n      const _multiplier = 0x10000\n      return ((1 + Math.random()) * _multiplier | 0).toString(_hex)\n    }\n    const _canvasId = `_canvas-${_idMaker() + _idMaker()}`\n    this._chart.canvas.id = _canvasId\n    return _canvasId\n  }\n\n  // eslint-disable-next-line no-nested-ternary\n  const PREFIX = window.CoreUIDefaults ? window.CoreUIDefaults.prefix ? window.CoreUIDefaults.prefix : 'c-' : 'c-'\n\n  const ClassName = {\n    ABOVE                   : `${PREFIX}above`,\n    BELOW                   : `${PREFIX}below`,\n    CHARTJS_TOOLTIP         : `${PREFIX}chartjs-tooltip`,\n    NO_TRANSFORM            : `${PREFIX}no-transform`,\n    TOOLTIP_BODY            : `${PREFIX}tooltip-body`,\n    TOOLTIP_BODY_ITEM       : `${PREFIX}tooltip-body-item`,\n    TOOLTIP_BODY_ITEM_COLOR : `${PREFIX}tooltip-body-item-color`,\n    TOOLTIP_BODY_ITEM_LABEL : `${PREFIX}tooltip-body-item-label`,\n    TOOLTIP_BODY_ITEM_VALUE : `${PREFIX}tooltip-body-item-value`,\n    TOOLTIP_HEADER          : `${PREFIX}tooltip-header`,\n    TOOLTIP_HEADER_ITEM     : `${PREFIX}tooltip-header-item`\n  }\n\n  const Selector = {\n    DIV     : 'div',\n    SPAN    : 'span',\n    TOOLTIP : `${this._chart.canvas.id || _setCanvasId()}-tooltip`\n  }\n\n  let tooltip = document.getElementById(Selector.TOOLTIP)\n\n  if (!tooltip) {\n    tooltip = document.createElement('div')\n    tooltip.id = Selector.TOOLTIP\n    tooltip.className = ClassName.CHARTJS_TOOLTIP\n    this._chart.canvas.parentNode.appendChild(tooltip)\n  }\n\n  // Hide if no tooltip\n  if (tooltipModel.opacity === 0) {\n    tooltip.style.opacity = 0\n    return\n  }\n\n  // Set caret Position\n  tooltip.classList.remove(ClassName.ABOVE, ClassName.BELOW, ClassName.NO_TRANSFORM)\n  if (tooltipModel.yAlign) {\n    tooltip.classList.add(tooltipModel.yAlign)\n  } else {\n    tooltip.classList.add(ClassName.NO_TRANSFORM)\n  }\n\n  // Set Text\n  if (tooltipModel.body) {\n    const titleLines = tooltipModel.title || []\n\n    const tooltipHeader = document.createElement(Selector.DIV)\n    tooltipHeader.className = ClassName.TOOLTIP_HEADER\n\n    titleLines.forEach((title) => {\n      const tooltipHeaderTitle = document.createElement(Selector.DIV)\n      tooltipHeaderTitle.className = ClassName.TOOLTIP_HEADER_ITEM\n      tooltipHeaderTitle.innerHTML = title\n      tooltipHeader.appendChild(tooltipHeaderTitle)\n    })\n\n    const tooltipBody = document.createElement(Selector.DIV)\n    tooltipBody.className = ClassName.TOOLTIP_BODY\n\n    const tooltipBodyItems = tooltipModel.body.map((item) => item.lines)\n    tooltipBodyItems.forEach((item, i) => {\n      const tooltipBodyItem = document.createElement(Selector.DIV)\n      tooltipBodyItem.className = ClassName.TOOLTIP_BODY_ITEM\n\n      const colors = tooltipModel.labelColors[i]\n\n      const tooltipBodyItemColor = document.createElement(Selector.SPAN)\n      tooltipBodyItemColor.className = ClassName.TOOLTIP_BODY_ITEM_COLOR\n      tooltipBodyItemColor.style.backgroundColor = colors.backgroundColor\n\n      tooltipBodyItem.appendChild(tooltipBodyItemColor)\n\n      if (item[0].split(':').length > 1) {\n        const tooltipBodyItemLabel = document.createElement(Selector.SPAN)\n        tooltipBodyItemLabel.className = ClassName.TOOLTIP_BODY_ITEM_LABEL\n        tooltipBodyItemLabel.innerHTML = item[0].split(': ')[0]\n\n        tooltipBodyItem.appendChild(tooltipBodyItemLabel)\n\n        const tooltipBodyItemValue = document.createElement(Selector.SPAN)\n        tooltipBodyItemValue.className = ClassName.TOOLTIP_BODY_ITEM_VALUE\n        tooltipBodyItemValue.innerHTML = item[0].split(': ').pop()\n\n        tooltipBodyItem.appendChild(tooltipBodyItemValue)\n      } else {\n        const tooltipBodyItemValue = document.createElement(Selector.SPAN)\n        tooltipBodyItemValue.className = ClassName.TOOLTIP_BODY_ITEM_VALUE\n        tooltipBodyItemValue.innerHTML = item[0]\n\n        tooltipBodyItem.appendChild(tooltipBodyItemValue)\n      }\n\n      tooltipBody.appendChild(tooltipBodyItem)\n    })\n\n    tooltip.innerHTML = ''\n\n    tooltip.appendChild(tooltipHeader)\n    tooltip.appendChild(tooltipBody)\n  }\n\n  const position = this._chart.canvas.getBoundingClientRect()\n\n  const positionY = this._chart.canvas.offsetTop\n  const positionX = this._chart.canvas.offsetLeft\n\n  let positionLeft = positionX + tooltipModel.caretX\n  const positionTop = positionY + tooltipModel.caretY\n  // eslint-disable-next-line\n  const halfWidth = tooltipModel.width / 2\n\n  if (positionLeft + halfWidth > position.width) {\n    positionLeft -= halfWidth\n  } else if (positionLeft < halfWidth) {\n    positionLeft += halfWidth\n  }\n\n  // Display, position, and set styles for font\n  tooltip.style.opacity = 1\n  tooltip.style.left = `${positionLeft}px`\n  tooltip.style.top = `${positionTop}px`\n}\n\nexport default CustomTooltips\n","/**\n * --------------------------------------------------------------------------\n * Custom Tooltips for Chart.js (v2.0.0-alpha.0): index.umd.js\n * Licensed under MIT (https://github.com/@coreui/coreui-chartjs/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport CustomTooltips from './src/custom-tooltips'\n\nexport default {\n  CustomTooltips\n}\n"],"names":["CustomTooltips","tooltipModel","_setCanvasId","_idMaker","_hex","_multiplier","Math","random","toString","_canvasId","_chart","canvas","id","PREFIX","window","CoreUIDefaults","prefix","ClassName","ABOVE","BELOW","CHARTJS_TOOLTIP","NO_TRANSFORM","TOOLTIP_BODY","TOOLTIP_BODY_ITEM","TOOLTIP_BODY_ITEM_COLOR","TOOLTIP_BODY_ITEM_LABEL","TOOLTIP_BODY_ITEM_VALUE","TOOLTIP_HEADER","TOOLTIP_HEADER_ITEM","Selector","DIV","SPAN","TOOLTIP","tooltip","document","getElementById","createElement","className","parentNode","appendChild","opacity","style","classList","remove","yAlign","add","body","titleLines","title","tooltipHeader","forEach","tooltipHeaderTitle","innerHTML","tooltipBody","tooltipBodyItems","map","item","lines","i","tooltipBodyItem","colors","labelColors","tooltipBodyItemColor","backgroundColor","split","length","tooltipBodyItemLabel","tooltipBodyItemValue","pop","position","getBoundingClientRect","positionY","offsetTop","positionX","offsetLeft","positionLeft","caretX","positionTop","caretY","halfWidth","width","left","top"],"mappings":"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"}